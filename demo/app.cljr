(ns app
  (:require [ring-clr.adapter.httplistener :as server]))

(defn handler [request]
  {:status 200
   :headers {"content-type" "application/json"}
   :body "{\"hello\":\"world\"}"})

;(defn -main []
;  (server/run-httplistener handler))

(defn -main []
  (let [listener (new System.Net.HttpListener)]
    (-> listener .Prefixes (.Add "http://172.31.11.251:8000/"))
    (server/start listener)
    (server/serve listener handler)))
